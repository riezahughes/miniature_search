(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{85:function(e,t,a){e.exports=a(97)},90:function(e,t,a){},92:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),l=a.n(c),o=(a(90),a(55)),i=a.n(o),s=a(67),u=a(26),m=a(33),d=(a(92),a(154)),p=a(153),b=a(71),f=a(152),h=a(140),E=a(76),v=a(51),g=a(73),k=a(72),y=a(56),O=a(137),w=a(157),C=a(144),j=a(145),x=a(57),_=a.n(x),F=a(156),S=a(142),A=a(155),B=a(158),L=Object({NODE_ENV:"production",PUBLIC_URL:"/miniature_search",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL||"http://localhost:3000",P=Object(O.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}},leaf:{display:"flex",flexWrap:"wrap",minWidth:"300px"},topLevelFilter:{borderRadius:0}}})),T=function(){return r.a.createElement(h.a,null)},W=function(e){var t=e.label,a=e.type,n=e.onChecked,c=e.checked;return r.a.createElement(S.a,{"aria-label":"Acknowledge",onClick:function(e){return e.stopPropagation()},onFocus:function(e){return e.stopPropagation()},control:r.a.createElement(F.a,{onChange:n(t,a),checked:c}),label:t})},N=function(e){var t=e.label,a=e.children,n=e.classes,c=e.onChecked,l=e.checked;return a?r.a.createElement(w.a,null,r.a.createElement(C.a,{expandIcon:r.a.createElement(_.a,null),"aria-label":"Expand","aria-controls":"additional-actions1-content",id:"additional-actions1-header"},r.a.createElement(W,{label:t,type:"faction",onChecked:c,checked:l(t,"faction")})),r.a.createElement(j.a,{classes:{root:n.leaf}},a)):r.a.createElement("div",null,r.a.createElement(W,{label:t,type:"race",onChecked:c,checked:l(t,"race")}))},I=function(e){var t=e.label,a=e.nestedFilters,n=e.classes,c=e.toggleFilter,l=e.checked,o=r.a.useState(null),i=Object(m.a)(o,2),s=i[0],u=i[1],d=Boolean(s),p=d?"simple-popover":void 0,b=function(e,t){return function(a){var n=a.target.checked;c(e,t,n)}};return r.a.createElement("div",null,r.a.createElement(B.a,{color:"primary",deleteIcon:r.a.createElement(_.a,null),onDelete:function(e){u(e.currentTarget)},style:{margin:"10px",marginLeft:"1px",marginRight:"1px"},"aria-describedby":"".concat(p,"_").concat(t),clickable:!1,classes:{root:n.topLevelFilter},label:r.a.createElement(W,{label:t,type:"game",checked:l(t,"game"),onChecked:b})}),r.a.createElement(A.a,{id:"".concat(p,"_").concat(t),open:d,anchorEl:s,onClose:function(){u(null)},style:{maxWidth:"50%"},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"}},a.map((function(e){var t=e.label,a=e.children;return r.a.createElement(N,{key:t,label:t,classes:n,onChecked:b,checked:l,children:a.map((function(e){var t=e.label;return r.a.createElement(N,{classes:n,key:t,label:t,onChecked:b,checked:l})}))})}))))};var R=function(e){var t=e.setActiveFilters,a=e.activeFilters,n=P(),c=function(e,n,r){var c="".concat(n,":").concat(e);if(r)t(Object(y.a)(Object(y.a)({},a),{},Object(u.a)({},c,n)));else{a[c];var l=Object(g.a)(a,[c].map(k.a));t(l)}},l=function(e,t){var n="".concat(t,":").concat(e);return!!a[n]},o=Object(v.b)("".concat(L,"/available_filters"),{},[]),i=o.loading,s=o.error,m=o.data;return i?r.a.createElement(T,null):s?r.a.createElement(E.a,{style:{margin:"10px"},color:"secondary"},"Error loading filters..."):r.a.createElement("div",{className:n.root},m.map((function(e){var t=e.name,a=e.factions;return r.a.createElement(I,{classes:n,key:t,label:t,toggleFilter:c,checked:l,nestedFilters:a.map((function(e){return{label:e.name,children:e.races.map((function(e){return{label:e.name}}))}}))})})))};var D=function(e){var t=e.activeFilters;return r.a.createElement("div",{className:"AppliedFilters"},Object.keys(t).map((function(e){return r.a.createElement(B.a,{key:"".concat(e),label:"".concat(e),color:"primary",variant:"outlined"})})))},K=a(147),M=a(148),U=a(150),z=a(146),H=a(149),J=a(151),V=a(70),Q=a.n(V),$=Object(O.a)((function(e){return{table:{minWidth:650},tableBody:{color:"white"},tableCell:{color:"white"}}}));var q=function(e){var t=e.data,a=$();return t.results?r.a.createElement("div",{className:"Results"},r.a.createElement(z.a,null,r.a.createElement(K.a,{className:a.table,"aria-label":"simple table"},r.a.createElement(M.a,{classes:{root:a.tableBody}},t.results.map((function(e,t){e._score;var n=e.id,c=(e.game,e.website),l=e.race,o=e.price,i=(e.faction,e.link),s=e.name,u=e.title;e.inStockQuantity;return r.a.createElement(H.a,{style:t%2?{background:"rgba(255, 255, 255, 0.05)"}:{background:"rgba(255, 255, 255, 0)"},key:n},r.a.createElement(U.a,{classes:{root:a.tableCell},align:"left"},function(e,t){return e&&t&&(a=t,!e.toLowerCase().trim().includes(a.toLowerCase().trim()))?"".concat(e,": ").concat(t):e||t;var a}(s,u)),r.a.createElement(U.a,{classes:{root:a.tableBody},align:"left"},l),r.a.createElement(U.a,{classes:{root:a.tableBody},align:"left"},c.replace(/www\./,"")),r.a.createElement(U.a,{classes:{root:a.tableBody},align:"left"},function(e){return"\xa3".concat(e)}(o)),r.a.createElement(U.a,{classes:{root:a.tableBody},align:"left"},r.a.createElement(J.a,{target:"_blank",href:i},r.a.createElement(Q.a,null))))})))))):null},G=Object(b.a)({overrides:{MuiFormLabel:{root:{color:"white"}},MuiInput:{underline:{"&&&&:before":{borderBottom:"1px solid white"}},input:{color:"white"}}}}),X=function(){return r.a.createElement(h.a,null)};var Y=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(m.a)(l,2),b=o[0],h=o[1],g=Object(n.useState)({}),k=Object(m.a)(g,2),y=k[0],O=k[1],w={body:{input:b,filters:Object.keys(y).map((function(e){var t=y[e],a=e.replace("".concat(t,":"),"");return Object(u.a)({},t,a)}))},headers:{"Content-Type":"application/json"}},C=Object(v.b)(L),j=C.post,x=C.response,_=C.loading,F=C.error,S=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,j("/search",w.body);case 4:t=e.sent,x.ok&&c(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement(f.a,{theme:G},r.a.createElement("header",{className:"App-header"},r.a.createElement("form",{noValidate:!0,autoComplete:"off",style:{width:"50%",paddingTop:"10%"}},r.a.createElement(d.a,{label:"Search",style:{width:"80%",verticalAlign:"bottom"},InputProps:{onChange:function(e){return h(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(S(),e.preventDefault())}}}),r.a.createElement(p.a,{variant:"contained",color:"primary",style:{marginLeft:"10px"},onClick:S},"Search")),r.a.createElement(R,{activeFilters:y,setActiveFilters:O}),r.a.createElement(D,{activeFilters:y}),F&&r.a.createElement(E.a,{style:{margin:"10px"},color:"secondary"},"Error loading results..."),_&&r.a.createElement(X,null),!F&&!_&&r.a.createElement(q,{data:a}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[85,1,2]]]);
//# sourceMappingURL=main.47d2ed7d.chunk.js.map