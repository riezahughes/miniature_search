(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{102:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(10),c=t.n(l),o=(t(92),t(55)),i=t.n(o),s=t(68),u=t(26),m=t(33),d=t(72),p=t.n(d),b=(t(94),t(159)),f=t(158),h=t(73),E=t(157),v=t(145),g=t(78),k=t(51),y=t(75),w=t(74),O=t(56),j=t(142),x=t(162),C=t(149),F=t(150),B=t(57),S=t.n(B),L=t(161),A=t(147),N=t(160),W=t(163),I="https://miniature-search.herokuapp.com",_=Object(j.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}},leaf:{display:"flex",flexWrap:"wrap",minWidth:"300px"},topLevelFilter:{borderRadius:0}}})),M=function(){return r.a.createElement(v.a,null)},P=function(e){var a=e.label,t=e.type,n=e.onChecked,l=e.checked;return r.a.createElement(A.a,{"aria-label":"Acknowledge",onClick:function(e){return e.stopPropagation()},onFocus:function(e){return e.stopPropagation()},control:r.a.createElement(L.a,{onChange:n(a,t),checked:l}),label:a})},R=function(e){var a=e.label,t=e.children,n=e.classes,l=e.onChecked,c=e.checked;return t?r.a.createElement(x.a,null,r.a.createElement(C.a,{expandIcon:r.a.createElement(S.a,null),"aria-label":"Expand","aria-controls":"additional-actions1-content",id:"additional-actions1-header"},r.a.createElement(P,{label:a,type:"faction",onChecked:l,checked:c(a,"faction")})),r.a.createElement(F.a,{classes:{root:n.leaf}},t)):r.a.createElement("div",null,r.a.createElement(P,{label:a,type:"race",onChecked:l,checked:c(a,"race")}))},T=function(e){var a=e.label,t=e.nestedFilters,n=e.classes,l=e.toggleFilter,c=e.checked,o=r.a.useState(null),i=Object(m.a)(o,2),s=i[0],u=i[1],d=Boolean(s),p=d?"simple-popover":void 0,b=function(e,a){return function(t){var n=t.target.checked;l(e,a,n)}};return r.a.createElement("div",null,r.a.createElement(W.a,{color:"primary",deleteIcon:r.a.createElement(S.a,null),onDelete:function(e){u(e.currentTarget)},style:{margin:"10px",marginLeft:"1px",marginRight:"1px"},"aria-describedby":"".concat(p,"_").concat(a),clickable:!1,classes:{root:n.topLevelFilter},label:r.a.createElement(P,{label:a,type:"game",checked:c(a,"game"),onChecked:b})}),r.a.createElement(N.a,{id:"".concat(p,"_").concat(a),open:d,anchorEl:s,onClose:function(){u(null)},style:{maxWidth:"50%"},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"}},t.map((function(e){var a=e.label,t=e.children;return r.a.createElement(R,{key:a,label:a,classes:n,onChecked:b,checked:c,children:t.map((function(e){var a=e.label;return r.a.createElement(R,{classes:n,key:a,label:a,onChecked:b,checked:c})}))})}))))};var z=function(e){var a=e.setActiveFilters,t=e.activeFilters,n=_(),l=function(e,n,r){var l="".concat(n,":").concat(e);if(r)a(Object(O.a)(Object(O.a)({},t),{},Object(u.a)({},l,n)));else{t[l];var c=Object(y.a)(t,[l].map(w.a));a(c)}},c=function(e,a){var n="".concat(a,":").concat(e);return!!t[n]},o=Object(k.b)("".concat(I,"/available_filters"),{},[]),i=o.loading,s=o.error,m=o.data;return i?r.a.createElement(M,null):s?r.a.createElement(g.a,{style:{margin:"10px"},color:"secondary"},"Error loading filters..."):r.a.createElement("div",{className:n.root},m.map((function(e){var a=e.name,t=e.factions;return r.a.createElement(T,{classes:n,key:a,label:a,toggleFilter:l,checked:c,nestedFilters:t.map((function(e){return{label:e.name,children:e.races.map((function(e){return{label:e.name}}))}}))})})))};var D=function(e){var a=e.activeFilters;return r.a.createElement("div",{className:"AppliedFilters"},Object.keys(a).map((function(e){return r.a.createElement(W.a,{key:"".concat(e),label:"".concat(e),color:"primary",variant:"outlined"})})))},J=t(152),K=t(153),Q=t(155),V=t(151),$=t(154),q=t(156),G=t(71),H=t.n(G),U=Object(j.a)((function(e){return{table:{minWidth:650},tableBody:{color:"white"},tableCell:{color:"white"}}}));var X=function(e){var a=e.data,t=U();return a.results?r.a.createElement("div",{className:"Results"},r.a.createElement(V.a,null,r.a.createElement(J.a,{className:t.table,"aria-label":"simple table"},r.a.createElement(K.a,{classes:{root:t.tableBody}},a.results.map((function(e,a){e._score;var n=e.id,l=(e.game,e.website),c=e.race,o=e.price,i=(e.faction,e.link),s=e.name,u=e.title;e.inStockQuantity;return r.a.createElement($.a,{style:a%2?{background:"rgba(255, 255, 255, 0.05)"}:{background:"rgba(255, 255, 255, 0)"},key:n},r.a.createElement(Q.a,{classes:{root:t.tableCell},align:"left"},function(e,a){return e&&a&&(t=a,!e.toLowerCase().trim().includes(t.toLowerCase().trim()))?"".concat(e,": ").concat(a):e||a;var t}(s,u)),r.a.createElement(Q.a,{classes:{root:t.tableBody},align:"left"},c),r.a.createElement(Q.a,{classes:{root:t.tableBody},align:"left"},l.replace(/www\./,"")),r.a.createElement(Q.a,{classes:{root:t.tableBody},align:"left"},function(e){return"\xa3".concat(e)}(o)),r.a.createElement(Q.a,{classes:{root:t.tableBody},align:"left"},r.a.createElement(q.a,{target:"_blank",href:i},r.a.createElement(H.a,null))))})))))):null},Y=Object(h.a)({overrides:{MuiFormLabel:{root:{color:"white"}},MuiInput:{underline:{"&&&&:before":{borderBottom:"1px solid white"}},input:{color:"white"}}}}),Z=function(){return r.a.createElement(v.a,null)};var ee=function(){var e=Object(n.useState)([]),a=Object(m.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(""),o=Object(m.a)(c,2),d=o[0],h=o[1],v=Object(n.useState)({}),y=Object(m.a)(v,2),w=y[0],O=y[1],j={body:{input:d,filters:Object.keys(w).map((function(e){var a=w[e],t=e.replace("".concat(a,":"),"");return Object(u.a)({},a,t)}))},headers:{"Content-Type":"application/json"}},x=Object(k.b)(I),C=x.post,F=x.response,B=x.loading,S=x.error,L=function(){var e=Object(s.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,C("/search",j.body);case 4:a=e.sent,F.ok&&l(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement(p.a,null,r.a.createElement("title",null,"Miniature Search")),r.a.createElement(E.a,{theme:Y},r.a.createElement("header",{className:"App-header"},r.a.createElement("form",{noValidate:!0,autoComplete:"off",style:{width:"50%",paddingTop:"8%"}},r.a.createElement(b.a,{label:"Search",style:{width:"80%",verticalAlign:"bottom"},InputProps:{onChange:function(e){return h(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(L(),e.preventDefault())}}}),r.a.createElement(f.a,{variant:"contained",color:"primary",style:{marginLeft:"10px"},onClick:L},"Search")),r.a.createElement(z,{activeFilters:w,setActiveFilters:O}),r.a.createElement(D,{activeFilters:w}),S&&r.a.createElement(g.a,{style:{margin:"10px"},color:"secondary"},"Error loading results..."),B&&r.a.createElement(Z,null),!S&&!B&&r.a.createElement(X,{data:t}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},87:function(e,a,t){e.exports=t(102)},92:function(e,a,t){},94:function(e,a,t){}},[[87,1,2]]]);
//# sourceMappingURL=main.e12e3ab6.chunk.js.map